{% extends 'default_layout.html' %}

{% block content %}
<div class="container-fluid">

  <h3 class="thin">Daumkakao league : {{gameId}}</h3>
  <hr class="thin"/>
  <ul class="nav nav-pills" id="game-menu">
    <li role="presentation"><a href="#standings">Standings</a></li>
    <li role="presentation"><a href="#recently_result">Recently Result</a></li>
    <li role="presentation"><a href="#matches_and_schedule">Matches / Schedule</a></li>
  </ul>

  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane" id="standings">
    </div>
    <div role="tabpanel" class="tab-pane" id="recently_result">
      {% include 'templates/game_recently_result.html' %}
    </div>
    <div role="tabpanel" class="tab-pane" id="matches_and_schedule">
      {% include 'templates/game_matches_and_schedule.html' %}
    </div>
  </div>
</div>
{% endblock %}
{% block scripts %}
<script>
  $(function () {
    // game page variables
    var gameId = {{gameId}};
    // game page variables

    render_standings( gameId );

    $('#game-menu a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });
  });

  function render_standings( gameId ){
    var template = _.template( $("#game_standings_tpl").html() );
    LM.api.games.getStandings( gameId, function( data ){
      $('#standings').html( template(data) );
      $('#game-menu a[href="#standings"]').tab('show')
    });
  }
</script>
{% include 'templates/game_standings.underscore.html' %}

{% endblock %}

